{"version":3,"sources":["logo.svg","LoadButton/index.js","AppExplanations/index.js","controller/accountManager.js","controller/faucet.js","App.js","reportWebVitals.js","index.js"],"names":["LoadButton","text","loadingText","color","disabled","hidden","onClick","useState","isLoading","setLoading","onTriggerRun","useCallback","then","className","style","margin","backgroundColor","display","AppExplanations","expandedItems","setexpandedItems","allowZeroExpanded","allowMultipleExpanded","onChange","update","length","newExpandedItemUUID","itemButtonBottom","document","getElementById","getBoundingClientRect","bottom","window","innerHeight","scrollBy","children","contract_abi","require","AccountManager","this","connected","busy","web3Provider","web3","balance","distributorBalance","smartContractBalance","harmonySupplyContract","network","a","providerOptions","walletconnect","package","WalletConnectProvider","options","infuraId","web3Modal","Web3Modal","cacheProvider","connect","request","method","params","account","console","error","Web3","eth","net","getId","log","decimals","balance_BN","utils","toBN","decimals_BN","before_comma","div","toString","after_comma","mod","padStart","formatted","String","getBalance","formatted_balance","getFormattedBalance","Contract","loadContractIfNeeded","methods","call","numberOfDonationsRemaining","getday","totalDonationsPerDay","captcha","apiUrl","config","get","data","JSON","stringify","address","axios","post","headers","Accept","crossDomain","response","claimFaucet","set","configuration","accountManager","App","setAccount","setBalance","remainingDonations","setRemainingDonations","givenDonationsToday","setGivenDonationsToday","setDistributorBalance","contractBalance","setContractBalance","txLink","setTxLink","setCaptcha","hideProgressBar","src","logo","alt","getNumberOfDonationsRemaining","donations","getNumberOfDonationsToday","getContractBalance","getDistributorBalance","toast","Number","faucetClaim","statusCode","success","hash","parse","body","errorMessage","catch","err","message","id","action","theme","sitekey","onVerify","token","ekey","target","rel","href","stroke","fill","viewBox","height","width","xmlns","d","h","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b0090c15.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.221c5a26.svg\";","import React, { useState, useCallback } from \"react\";\r\nimport \"./index.css\";\r\n\r\nfunction LoadButton({ text, loadingText, color, disabled, hidden, onClick }) {\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  const onTriggerRun = useCallback(() => {\r\n    setLoading(true);\r\n    onClick().then(() => {\r\n      setLoading(false);\r\n    });\r\n  }, [onClick]);\r\n\r\n  return (\r\n    <button\r\n      className=\"BackupButton\"\r\n      disabled={isLoading | disabled}\r\n      onClick={isLoading ? null : onTriggerRun}\r\n      style={{\r\n        margin: \"10px\",\r\n        backgroundColor: color,\r\n        display: hidden ? \"none\" : true,\r\n      }}\r\n    >\r\n      {isLoading ? loadingText || \"Loadingâ€¦\" : text}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default LoadButton;\r\n","import React, { useState } from \"react\";\r\n\r\nimport {\r\n  Accordion,\r\n  AccordionItem,\r\n  AccordionItemHeading,\r\n  AccordionItemButton,\r\n  AccordionItemPanel,\r\n} from \"react-accessible-accordion\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport \"./index.css\";\r\n\r\nexport default function AppExplanations() {\r\n  const [expandedItems, setexpandedItems] = useState([]);\r\n\r\n  // In case the user expands a node that is barely visible, we scroll the page to display it fully\r\n  function handleExpand(update) {\r\n    if (update.length > expandedItems.length) {\r\n      const newExpandedItemUUID = update[update.length - 1];\r\n      const itemButtonBottom = document\r\n        .getElementById(`accordion__panel-${newExpandedItemUUID}`)\r\n        .getBoundingClientRect().bottom;\r\n      if (itemButtonBottom > window.innerHeight) {\r\n        window.scrollBy(0, itemButtonBottom - window.innerHeight);\r\n      }\r\n    }\r\n    setexpandedItems(update);\r\n  }\r\n\r\n  const whatIsAFaucet_help =\r\n    // eslint-disable-next-line\r\n    \"A `Faucet` is a tool that provides a small amount of funds to start using a cryptocurrency without having to buy some. \\n\\\r\n    It's often a shity website with plenty of ads that will send you funds half the time, only after asking you to input your email to send you spam later.  \\n\\\r\n    `Harmony` had none for its mainnet, so here's one, without the crap you usually get on typical faucets\";\r\n\r\n\r\n  const howMuchCanIGet_help =\r\n    // eslint-disable-next-line\r\n    \"`Plenty enough!`  \\n\\\r\n    Transactions on Harmony network are dirt cheap. Forget Ethereum, forget BSC, we're talking about fractions of a cent for most transactions.  \\n\\\r\n    So this faucet will only send you `0.01 ONE` - which is enough to deposit some fund on Tranquil and [earn fresh ONE](https://medium.com/coinmonks/tranquil-finance-the-first-money-market-in-harmony-one-8cd17384475d), for instance  \\n\\\r\n    With `0.01 ONE`, you can do `100` basic transactions on Harmony network ! You can even deposit or withdraw funds on `Tranquil`, even though it is a pretty expensive transaction (`50$+` on Ethereum, `1$+` on Binance Smart Chain). \\n\\\r\n    The goal of this faucet is not to make you rich but just to make the onboarding to Harmony smoother.  \\n\\\r\n    You can use it up to `3 times a day`, for the most clumsy of us ðŸ™„  \\n\\\r\n    Feel free to send some spare change at `0xf31822e40957fd71c102a112b53ccc2a4d4a7ec7` to replenish the faucet once you're rich\";\r\n\r\n  const howToEarnMoreMatic_help =\r\n    \"* First bring your assets from Ethereum to Harmony through [the bridge](https://bridge.harmony.one/)  \\n\\\r\n    Then there's a variety of things you can do:  \\n\\\r\n    * Play [CryptoRoyale](https://cryptoroyale.one/) to earn the ROY token which can be swapped on [Viperswap](https://viper.exchange/) for ONE \\n\\\r\n    * Swap to other assets on [Sushiswap](https://app.sushi.com/swap), the equivalents of `Uniswap` on Harmony  \\n\\\r\n    [Openswap](https://app.openswap.one/) is also available and will route your swaps through the cheapest path.  \\n\\\r\n    * Depositing your assets on [Tranquil](https://app.tranquil.finance/) or [Curve](https://harmony.curve.fi/) to farm some fresh ONE  \\n\\\r\n    * Enjoy the same functionalities Ethereum has, only with less friction \\n\\\r\n    \";\r\n\r\n  return (\r\n    <Accordion allowZeroExpanded allowMultipleExpanded onChange={handleExpand}>\r\n       <AccordionItem>\r\n        <AccordionItemHeading>\r\n          <AccordionItemButton>What is a Faucet ?</AccordionItemButton>\r\n        </AccordionItemHeading>\r\n        <AccordionItemPanel>\r\n          <ReactMarkdown\r\n            className=\"Explanations\"\r\n            children={whatIsAFaucet_help}\r\n          ></ReactMarkdown>\r\n        </AccordionItemPanel>\r\n      </AccordionItem>\r\n      <AccordionItem>\r\n        <AccordionItemHeading>\r\n          <AccordionItemButton>How much can I get ?</AccordionItemButton>\r\n        </AccordionItemHeading>\r\n        <AccordionItemPanel>\r\n          <ReactMarkdown\r\n            className=\"Explanations\"\r\n            children={howMuchCanIGet_help}\r\n          ></ReactMarkdown>\r\n        </AccordionItemPanel>\r\n      </AccordionItem>\r\n      <AccordionItem>\r\n        <AccordionItemHeading>\r\n          <AccordionItemButton>\r\n            How to earn (much) more ONE ?\r\n          </AccordionItemButton>\r\n        </AccordionItemHeading>\r\n        <AccordionItemPanel>\r\n          <ReactMarkdown\r\n            className=\"Explanations\"\r\n            children={howToEarnMoreMatic_help}\r\n          ></ReactMarkdown>\r\n        </AccordionItemPanel>\r\n      </AccordionItem>\r\n    </Accordion>\r\n  );\r\n}\r\n","import Web3 from \"web3\";\r\nimport Web3Modal from \"web3modal\";\r\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\r\nconst contract_abi = require(\"./ABI.json\");\r\n\r\nconst HARMONY_MAIN_NETWORK = 1666600000;\r\nconst HARMONY_TEST_NETWORK = 1666700000;\r\n\r\nclass AccountManager {\r\n  constructor() {\r\n    this.connected = false;\r\n    this.busy = false;\r\n    this.web3Provider = null;\r\n    this.web3 = null;\r\n    this.balance = 0;\r\n    this.distributorBalance = 0;\r\n    this.smartContractBalance = 0;\r\n    this.harmonySupplyContract = null;\r\n\r\n    this.network = 0;\r\n  }\r\n\r\n  async connect() {\r\n    if (!this.connected) {\r\n      const providerOptions = {\r\n        walletconnect: {\r\n          package: WalletConnectProvider, // required\r\n          options: {\r\n            infuraId: \"https://api.harmony.one\", // required\r\n          },\r\n        },\r\n      };\r\n\r\n      const web3Modal = new Web3Modal({\r\n        network: \"mainnet\", // optional\r\n        cacheProvider: true, // optional\r\n        providerOptions, // required\r\n      });\r\n\r\n      this.web3Provider = await web3Modal.connect();\r\n      try {\r\n        // Request account access\r\n        this.account = await this.web3Provider.request({\r\n          method: \"eth_requestAccounts\",\r\n          params: [],\r\n        });\r\n      } catch (error) {\r\n        // User denied account access...\r\n        console.error(`User denied account access: ${error}`);\r\n      }\r\n      this.web3 = new Web3(this.web3Provider);\r\n      this.network = await this.web3.eth.net.getId();\r\n      console.log(this.network);\r\n      if (\r\n        this.network === HARMONY_MAIN_NETWORK ||\r\n        this.network === HARMONY_TEST_NETWORK\r\n      ) {\r\n        this.connected = true;\r\n        console.log(`connected: ${this.account} ${typeof this.account}`);\r\n        return this.account;\r\n      }\r\n    }\r\n  }\r\n\r\n  getFormattedBalance(balance, decimals) {\r\n    if (!balance) return \"\";\r\n    let balance_BN = this.web3.utils.toBN(balance);\r\n    let decimals_BN = this.web3.utils.toBN(10 ** decimals);\r\n    let before_comma = balance_BN.div(decimals_BN).toString();\r\n    let after_comma = balance_BN.mod(decimals_BN).toString();\r\n    after_comma = after_comma.padStart(decimals, \"0\");\r\n    return before_comma + \".\" + after_comma + \" ONE\";\r\n  }\r\n\r\n  async getBalance(formatted = true) {\r\n    const decimals = 18;\r\n    console.log(\"address\", String(this.account));\r\n    this.balance = await this.web3.eth.getBalance(String(this.account));\r\n    this.formatted_balance = this.getFormattedBalance(this.balance, decimals);\r\n    return formatted ? this.formatted_balance : this.balance;\r\n  }\r\n\r\n  async getDistributorBalance() {\r\n    this.distributorBalance = await this.web3.eth.getBalance(\r\n      \"0xa5e299b65e6ffbc1768c4b489aecefc99111e737\"\r\n    );\r\n    return this.distributorBalance;\r\n  }\r\n\r\n  loadContractIfNeeded() {\r\n    if (!this.harmonySupplyContract) {\r\n      this.harmonySupplyContract = new this.web3.eth.Contract(\r\n        contract_abi,\r\n        \"0xf31822e40957fd71c102a112b53ccc2a4d4a7ec7\"\r\n      );\r\n    }\r\n  }\r\n\r\n  async getContractBalance() {\r\n    this.loadContractIfNeeded();\r\n\r\n    return await this.harmonySupplyContract.methods.getBalance().call();\r\n\r\n    //return await this.web3.eth.getBalance(this.harmonySupplyContract.address);\r\n  }\r\n\r\n  async getNumberOfDonationsRemaining() {\r\n    this.loadContractIfNeeded();\r\n    return await this.harmonySupplyContract.methods\r\n      .numberOfDonationsRemaining()\r\n      .call();\r\n  }\r\n  async getNumberOfDonationsToday() {\r\n    this.loadContractIfNeeded();\r\n    return await this.harmonySupplyContract.methods\r\n      .totalDonationsPerDay(\r\n        await this.harmonySupplyContract.methods.getday().call()\r\n      )\r\n      .call();\r\n  }\r\n}\r\n\r\nexport default AccountManager;\r\n","import axios from \"axios\";\r\nimport config from \"react-global-configuration\";\r\n\r\nasync function claimFaucet(account, captcha) {\r\n  console.log(captcha);\r\n  let apiUrl = config.get(\"apiurl\");\r\n  console.log(\"Sending request...\", apiUrl);\r\n\r\n  var data = JSON.stringify({ address: account[0], captcha: captcha });\r\n\r\n  return await axios\r\n    .post(apiUrl, data, {\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      crossDomain: true,\r\n    })\r\n    .then((response) => {\r\n        return response;\r\n     /* if (response.status === 200) {\r\n        return config.get(\"explorer\") + \"/tx/\" + response.data.hash;\r\n      }*/\r\n    });\r\n}\r\n\r\nexport default claimFaucet;\r\n","import logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\nimport LoadButton from \"./LoadButton\";\r\nimport AppExplanations from \"./AppExplanations\";\r\nimport AccountManager from \"./controller/accountManager\";\r\nimport faucetClaim from \"./controller/faucet\";\r\nimport React, { useState } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport config from \"react-global-configuration\";\r\nimport configuration from \"./config.json\";\r\nimport HCaptcha from \"@hcaptcha/react-hcaptcha\";\r\n\r\nconfig.set(configuration);\r\n\r\nconst accountManager = new AccountManager();\r\n\r\nfunction App() {\r\n  const [account, setAccount] = useState(\"Not connected\");\r\n  const [balance, setBalance] = useState(0);\r\n  const [remainingDonations, setRemainingDonations] = useState(0);\r\n  const [givenDonationsToday, setGivenDonationsToday] = useState(0);\r\n\r\n  const [distributorBalance, setDistributorBalance] = useState(0);\r\n  const [contractBalance, setContractBalance] = useState(0);\r\n\r\n  const [txLink, setTxLink] = useState(\"\");\r\n  const [captcha, setCaptcha] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <ToastContainer hideProgressBar={true} />\r\n      <div className=\"App-banner\">\r\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n        <p className=\"App-title\">Harmony Faucet</p>\r\n      </div>\r\n      <header className=\"App-header\">\r\n        <div className=\"Commands\">\r\n          <LoadButton\r\n            text=\"Connect\"\r\n            loadingText=\"Loading...\"\r\n            color=\"#00AEE9\"\r\n            hidden={account !== \"Not connected\"}\r\n            onClick={() =>\r\n              accountManager.connect().then((account) => {\r\n                if (!account) {\r\n                  toast.error(\r\n                    `Wrong network: Please select ONE/Harmony network first`\r\n                  );\r\n                } else {\r\n                  setAccount(account);\r\n                  accountManager.getBalance(false).then((balance) => {\r\n                    setBalance(balance);\r\n                  });\r\n                  accountManager\r\n                    .getNumberOfDonationsRemaining()\r\n                    .then((donations) => {\r\n                      setRemainingDonations(donations);\r\n                    });\r\n\r\n                  accountManager\r\n                    .getNumberOfDonationsToday()\r\n                    .then((donations) => {\r\n                      setGivenDonationsToday(donations);\r\n                    });\r\n\r\n                  accountManager.getContractBalance().then((balance) => {\r\n                    setContractBalance(balance);\r\n                  });\r\n                  accountManager.getDistributorBalance().then((balance) => {\r\n                    setDistributorBalance(balance);\r\n                  });\r\n                }\r\n              })\r\n            }\r\n          />\r\n          <LoadButton\r\n            text={\r\n              Number(balance) >= config.get(\"maxAmount\")\r\n                ? \"Balance too high\"\r\n                : remainingDonations < 1\r\n                ? \"No donations left\"\r\n                : \"Receive\"\r\n            }\r\n            loadingText=\"Sending...\"\r\n            color=\"#00AEE9\"\r\n            disabled={\r\n              Number(balance) >= config.get(\"maxAmount\") || captcha === \"\"\r\n            }\r\n            hidden={account === \"Not connected\"}\r\n            onClick={() =>\r\n              faucetClaim(account, captcha)\r\n                .then((response) => {\r\n                  console.log(response);\r\n                  if (response.data.statusCode === 200) {\r\n                    toast.success(\"Transaction sent!\");\r\n                    setTxLink(response.data.hash);\r\n                    accountManager.getBalance(false).then((balance) => {\r\n                      setBalance(balance);\r\n                    });\r\n\r\n                    setCaptcha(\"\");\r\n                  } else {\r\n                    toast.error(\r\n                      \"Transaction failed!\" +\r\n                        JSON.parse(response.data.body).errorMessage\r\n                    );\r\n                  }\r\n                })\r\n                .catch((error) => {\r\n                  toast.error(`${error.response.data.err.message} ðŸ™…`);\r\n                })\r\n            }\r\n          />\r\n        </div>\r\n        <form id=\"receive\" action=\"\" method=\"POST\">\r\n          <HCaptcha\r\n            theme=\"light\"\r\n            sitekey={config.get(\"hcaptchasitekey\")}\r\n            onVerify={(token, ekey) => {\r\n              setCaptcha(token);\r\n            }}\r\n          />\r\n        </form>\r\n\r\n        <p hidden={account === \"Not connected\"}>\r\n          {\"Your Wallet address : \" + account}\r\n        </p>\r\n        <p hidden={account === \"Not connected\"}>\r\n          {\"Your balance: \" +\r\n            String(accountManager.getFormattedBalance(balance, 18))}\r\n        </p>\r\n        <p hidden={account === \"Not connected\"}>\r\n          {\"There are \" +\r\n            String(remainingDonations) +\r\n            \" donations left for today\"}\r\n          {remainingDonations < 1\r\n            ? \", try again tomorrow or ask for donations\"\r\n            : \"\"}\r\n        </p>\r\n\r\n        <p hidden={account === \"Not connected\"}>\r\n          {\"Today harmony.supply donated \" +\r\n            String(accountManager.getFormattedBalance(givenDonationsToday, 18))}\r\n        </p>\r\n\r\n        <a\r\n          hidden={txLink === \"\"}\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          href={txLink}\r\n        >\r\n          {txLink}\r\n        </a>\r\n        <br/>\r\n        <AppExplanations></AppExplanations>\r\n        <div className=\"App-footer\">\r\n          <div>\r\n            <a href=\"https://discord.gg/sGcXqMNZ\">\r\n              <svg\r\n                stroke=\"currentColor\"\r\n                fill=\"currentColor\"\r\n                stroke-width=\"0\"\r\n                viewBox=\"0 0 448 512\"\r\n                height=\"50px\"\r\n                width=\"50px\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path d=\"M297.216 243.2c0 15.616-11.52 28.416-26.112 28.416-14.336 0-26.112-12.8-26.112-28.416s11.52-28.416 26.112-28.416c14.592 0 26.112 12.8 26.112 28.416zm-119.552-28.416c-14.592 0-26.112 12.8-26.112 28.416s11.776 28.416 26.112 28.416c14.592 0 26.112-12.8 26.112-28.416.256-15.616-11.52-28.416-26.112-28.416zM448 52.736V512c-64.494-56.994-43.868-38.128-118.784-107.776l13.568 47.36H52.48C23.552 451.584 0 428.032 0 398.848V52.736C0 23.552 23.552 0 52.48 0h343.04C424.448 0 448 23.552 448 52.736zm-72.96 242.688c0-82.432-36.864-149.248-36.864-149.248-36.864-27.648-71.936-26.88-71.936-26.88l-3.584 4.096c43.52 13.312 63.744 32.512 63.744 32.512-60.811-33.329-132.244-33.335-191.232-7.424-9.472 4.352-15.104 7.424-15.104 7.424s21.248-20.224 67.328-33.536l-2.56-3.072s-35.072-.768-71.936 26.88c0 0-36.864 66.816-36.864 149.248 0 0 21.504 37.12 78.08 38.912 0 0 9.472-11.52 17.152-21.248-32.512-9.728-44.8-30.208-44.8-30.208 3.766 2.636 9.976 6.053 10.496 6.4 43.21 24.198 104.588 32.126 159.744 8.96 8.96-3.328 18.944-8.192 29.44-15.104 0 0-12.8 20.992-46.336 30.464 7.68 9.728 16.896 20.736 16.896 20.736 56.576-1.792 78.336-38.912 78.336-38.912z\"></path>\r\n              </svg>\r\n            </a>\r\n          </div>\r\n          <p>\r\n            A modest Web App built by{\" \"}\r\n            <a\r\n              href=\"https://github.com/dietbald\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              Dietbald\r\n            </a>{\" \"}\r\n            with React, hosted on Github.\r\n            <a href=\"https://github.com/dietbald/harmony-supply/\">\r\n              PRs welcomed and appreciated âœ¨\r\n            </a>\r\n          </p>\r\n          <p>\r\n            Harmony donation:\r\n            <a\r\n              h\r\n              href=\"https://explorer.harmony.one/address/0xf31822e40957fd71c102a112b53ccc2a4d4a7ec7\"\r\n              target=\"_blanc\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              0xf31822e40957fd71c102a112b53ccc2a4d4a7ec7\r\n            </a>\r\n          </p>\r\n\r\n          <p hidden={account === \"Not connected\"}>\r\n            {\"Available in faucet balance: \" +\r\n              String(accountManager.getFormattedBalance(contractBalance, 18))}\r\n          </p>\r\n\r\n          <p hidden={account === \"Not connected\"}>\r\n            {\"Available in distributor balance: \" +\r\n              String(\r\n                accountManager.getFormattedBalance(distributorBalance, 18)\r\n              )}\r\n          </p>\r\n        </div>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}